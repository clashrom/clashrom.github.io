<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Steal a Brainrot - Embed</title>
  <style>
    /* Reset & full-bleed */
    html,body{height:100%;margin:0}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:#111;color:#eee;display:flex;align-items:center;justify-content:center}

    /* Contenedor que mantiene el iframe a pantalla completa */
    .embed-wrapper{position:relative;width:100%;height:100vh;max-width:1600px;box-shadow:0 10px 30px rgba(0,0,0,.6);border-radius:6px;overflow:hidden;background:#000}

    iframe{display:block;border:0;width:100%;height:100%}

    /* Barra superior mínima con título y botón fullscreen */
    .topbar{position:absolute;left:0;right:0;top:0;height:44px;background:linear-gradient(0deg,rgba(0,0,0,.45),transparent);display:flex;align-items:center;gap:12px;padding:0 12px;z-index:6}
    .title{font-size:13px;font-weight:600}
    .actions{margin-left:auto;display:flex;gap:8px}
    button{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.06);color:inherit;padding:6px 10px;border-radius:6px;cursor:pointer;font-size:13px}
    button:active{transform:translateY(1px)}

    /* Mensaje si el iframe no carga */
    .fallback{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;text-align:center;z-index:5;color:#ddd;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.6));backdrop-filter:blur(2px)}
    .hidden{display:none}

    @media (max-width:640px){.topbar{height:40px;padding:0 10px}.title{font-size:12px}button{padding:5px 8px;font-size:12px}}
  </style>
</head>
<body>
  <div class="embed-wrapper" id="wrapper">
    <div class="topbar">
      <div class="title">Steal a Brainrot — Juego embebido</div>
      <div class="actions">
        <button id="openNew">Abrir en nueva pestaña</button>
        <button id="goFS">Pantalla completa</button>
      </div>
    </div>

    <iframe id="gameFrame" src="https://www.gamenora.com/embed/steal-a-brainrot" allowfullscreen frameborder="0" title="Steal a Brainrot"></iframe>

    <div id="fallback" class="fallback hidden">
      <div>
        <strong>No se ha podido cargar el juego en el iframe.</strong>
        <p>Intenta abrirlo en una nueva pestaña o comprueba si la página bloquea integraciones en iframes.</p>
        <p><a id="fallbackLink" href="https://www.gamenora.com/embed/steal-a-brainrot" target="_blank" rel="noopener" style="color:inherit;text-decoration:underline">Abrir juego en nueva pestaña</a></p>
      </div>
    </div>
  </div>

  <script>
    const iframe = document.getElementById('gameFrame');
    const fallback = document.getElementById('fallback');
    const openNew = document.getElementById('openNew');
    const goFS = document.getElementById('goFS');

    // Mostrar fallback si el iframe tarda mucho o bloquea la carga
    let loaded = false;
    const timeout = setTimeout(()=>{
      if(!loaded){ fallback.classList.remove('hidden'); }
    }, 6000);

    iframe.addEventListener('load', ()=>{
      loaded = true;
      clearTimeout(timeout);
      fallback.classList.add('hidden');
    });

    openNew.addEventListener('click', ()=>{
      window.open(iframe.src, '_blank', 'noopener');
    });

    goFS.addEventListener('click', ()=>{
      const wrapper = document.getElementById('wrapper');
      if(wrapper.requestFullscreen){ wrapper.requestFullscreen(); }
      else if(wrapper.webkitRequestFullscreen){ wrapper.webkitRequestFullscreen(); }
    });

    // Si el contenido del iframe bloquea el embed (X-Frame-Options), no hay mucho que podamos hacer desde aquí.
    // Por seguridad, mostramos el fallback y un enlace directo.
  </script>
</body>
</html>
